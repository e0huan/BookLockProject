<!-- This file create the login page. It creates the login form for using to sign in to their account -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BookLock</title>
  <!-- For Google Sign-In button -->
  <meta name="google-signin-client_id" content="172918658915-3btmc7dgrmlohe3ok9e4knev54egu4ja.apps.googleusercontent.com">
  <!-- Google font Open Sans Light -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link href="login.css" rel="stylesheet" type="text/css">

  <!-- For Google Sign-In button -->
  <script src="https://apis.google.com/js/api:client.js"></script>

  <script>
  var googleUser = {};
  var startApp = function() {
    gapi.load('auth2', function(){
      // Retrieve the singleton for the GoogleAuth library and set up the client.
      auth2 = gapi.auth2.init({
        // Enter the app's client id to access the Google APIs.
        client_id: '172918658915-3btmc7dgrmlohe3ok9e4knev54egu4ja.apps.googleusercontent.com',
        cookiepolicy: 'single_host_origin',
      });
      attachSignin(document.getElementById('customBtn'));
    });
  };

  function attachSignin(element) {
    console.log(element.id);
    auth2.attachClickHandler(element, {},
        function(googleUser) {
          // Get the user's email address and run the loginGoogle.php file.
          window.location.href="loginGoogle.php?uid="+googleUser.getBasicProfile().getEmail();
        }, function(error) {
        // Otherwise, display the error.
        alert(JSON.stringify(error, undefined, 2));
        });
  }
</script>
</head>
<!-- body background color -->
<body style="background-color:#95B2B4;">

<!--elements for background -->
<div class="square"></div>
<div class="rectangle"></div>

<!-- In the callback, you would hide the gSignInWrapper element on a successful sign in -->
<div id="gSignInWrapper">
  <div id="customBtn" class="customGPlusSignIn">
    <span class="icon"></span>
    <span class="buttonText">Continue with Google</span>
  </div>
</div>
<div id="name"></div>
<script>startApp();</script>

<!--Side panel panel buttons-->
<button type="button" class="logbtn">L<br>O<br>G<br><br> I<br>N</button>
<button type= "button" class="signupbtn" onclick="myFunction()">S<br>I<br>G<br>N<br><br> U<br>P</button>

<!-- Go to signup page when signup panel button is clicked -->
<script>
  function myFunction() {
    location.replace("register.html")
  }
</script>
<script src="js/bootstrap.js"></script>

<!-- input for email -->
<div style = "position:fixed; left:36.25%; top:36%; font-family: 'Open Sans', sans-serif; font-size:140.25%;  color:white; background-color:#656C8B;">
  Email
</div>

<!-- input for password -->
<div style = "position:fixed; left:36.25%; top:56%; font-family: 'Open Sans', sans-serif; font-size:140.25%; color:white; background-color:#656C8B;">
  Password
</div>

<!-- hidden frame to display output -->
<div class="frame-container">
  <iframe name="hiddenFrame" frameBorder="0" class="hide" height="100%" width="100%;"></iframe>
</div>

<!-- login form -->
<div class="login">
	<form action="login.php" method="post" target="hiddenFrame">
    <input type="email" id="email" name="email" required><br><br><br><br>
    <input type="password" id="password" name="password" required>
    <button class="btn" style="vertical-align:middle"><span>LOG IN</span></button>
  </form>
</div>

</body>
</html>